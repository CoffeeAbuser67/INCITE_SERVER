import{b as v,aF as z,a as x,j as s,p as n,ac as b,aG as m,i as h,t as i,L as u,q as y}from"./index-tClCnJhd.js";import{M as N,U as q,a as w,P,A as _}from"./user-DXjrCj06.js";import{r as t}from"./heading-VWtgbdaa.js";import{m as L,b as k,P as o,f as r,e as j}from"./tabs-BAFMwtpy.js";import{o as c}from"./card-COItrLsa.js";import{o as I}from"./button-S0inrZr8.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],S=v("newspaper",A),M=({instituicao:a})=>s.jsxs(c,{children:[s.jsx(t,{size:"4",mb:"2",children:"Sobre a Institui√ß√£o"}),s.jsx(i,{as:"p",color:"gray",children:a.informacoes_adicionais||"Nenhuma informa√ß√£o adicional fornecida."})]}),R=({pesquisas:a})=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(e=>s.jsxs(c,{children:[s.jsx(t,{as:"h4",size:"3",children:e.nome}),s.jsx(i,{as:"p",size:"2",color:"gray",mt:"1",children:e.info}),s.jsxs(j,{color:"blue",variant:"soft",mt:"2",children:["In√≠cio: ",e.ano_inicio,e.ano_fim?` - Fim: ${e.ano_fim}`:""]})]},e.id))}),C=({acoes:a})=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(e=>s.jsxs(c,{children:[s.jsx(t,{as:"h4",size:"3",children:e.nome}),s.jsx(i,{as:"p",size:"2",color:"gray",mt:"1",children:e.info}),s.jsxs(j,{color:"purple",variant:"soft",mt:"2",children:["Comunidade: ",e.tipo_comunidade]})]},e.id))}),E=({produtos:a})=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(e=>s.jsxs(c,{children:[s.jsx(t,{as:"h4",size:"3",children:e.nome}),s.jsx(i,{as:"p",size:"2",color:"gray",mt:"1",children:e.info})]},e.id))}),U=({pesquisadores:a})=>s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:a.map(e=>s.jsx(c,{children:s.jsxs(n,{gap:"3",align:"center",children:[s.jsx(m,{fallback:e.nome.charAt(0),size:"3",radius:"full"}),s.jsxs(h,{children:[s.jsx(i,{as:"div",weight:"bold",children:e.nome}),s.jsx(i,{as:"div",size:"2",color:"gray",children:e.area_atuacao}),e.bolsista&&s.jsx(j,{color:"green",mt:"1",children:"Bolsista"})]})]})},e.id))}),H=()=>{const{id:a}=z(),[e,p]=x.useState(null),[f,g]=x.useState(!0);return x.useEffect(()=>{(async()=>{g(!0);try{const d=await y.get(`/profile/instituicoes/${a}/`);p(d.data),console.log("%c ‚îÄ‚îÄ ‚ãô‚áå‚áå‚áå‚áå instituicao ‚áå‚áå‚áå‚áå‚áå‚áå‚´∏ üè¢","color: black; font-size: 16px; font-weight: bold;"),console.log(d.data)}catch(d){console.error("Falha ao carregar institui√ß√£o:",d)}finally{g(!1)}})()},[a]),f?s.jsx(n,{justify:"center",align:"center",className:"h-96",children:s.jsx(b,{size:"3"})}):e?s.jsxs("div",{className:"max-w-5xl mx-auto p-4 sm:p-8",children:[s.jsxs(n,{gap:"5",align:"center",mb:"6",children:[s.jsx(m,{src:e.marcador_logo??void 0,fallback:e.nome.charAt(0),size:"8",radius:"full"}),s.jsxs(h,{children:[s.jsx(t,{size:{initial:"7",md:"8"},children:e.nome}),s.jsxs(n,{align:"center",gap:"4",mt:"2",wrap:"wrap",children:[s.jsxs(n,{align:"center",gap:"2",children:[s.jsx(N,{size:16}),s.jsx(i,{size:"2",children:e.cidade_nome.toLocaleUpperCase()})]}),s.jsxs(n,{align:"center",gap:"2",children:[s.jsx(q,{size:16}),s.jsx(i,{size:"2",children:e.coordenador_responsavel})]}),s.jsxs(n,{align:"center",gap:"2",children:[s.jsx(w,{size:16}),s.jsx(i,{size:"2",children:e.email})]}),s.jsxs(n,{align:"center",gap:"2",children:[s.jsx(P,{size:16}),s.jsx(i,{size:"2",children:e.telefone})]})]})]})]}),s.jsxs(L,{defaultValue:"sobre",children:[s.jsxs(k,{children:[s.jsx(o,{value:"sobre",children:"Sobre"}),s.jsxs(o,{value:"pesquisadores",children:["Pesquisadores (",e.pesquisadores.length,")"]}),s.jsxs(o,{value:"pesquisas",children:["Pesquisas (",e.pesquisas.length,")"]}),s.jsxs(o,{value:"acoes",children:["A√ß√µes (",e.acoes_extensionistas.length,")"]}),s.jsxs(o,{value:"produtos",children:["Produtos (",e.produtos.length,")"]}),s.jsxs(o,{value:"noticias",children:["Not√≠cias (",e.postagens.length,")"]})]}),s.jsxs(h,{pt:"6",children:[s.jsx(r,{value:"sobre",children:s.jsx(M,{instituicao:e})}),s.jsx(r,{value:"pesquisadores",children:s.jsx(U,{pesquisadores:e.pesquisadores||[]})}),s.jsx(r,{value:"pesquisas",children:s.jsx(R,{pesquisas:e.pesquisas||[]})}),s.jsx(r,{value:"acoes",children:s.jsx(C,{acoes:e.acoes_extensionistas||[]})}),s.jsx(r,{value:"produtos",children:s.jsx(E,{produtos:e.produtos||[]})}),s.jsx(r,{value:"noticias",children:s.jsxs(n,{direction:"column",gap:"4",children:[s.jsx(t,{size:"4",children:"Not√≠cias e Atualiza√ß√µes Recentes"}),e.postagens&&e.postagens.length>0?s.jsx(n,{direction:"column",gap:"3",children:e.postagens.slice(0,3).map(l=>s.jsx(u,{to:`/blog/${l.id}`,className:"no-underline text-current",children:s.jsx(c,{className:"hover:bg-gray-50 transition-colors",children:s.jsxs(n,{align:"center",gap:"3",children:[s.jsx(S,{size:24,className:"text-gray-600 flex-shrink-0"}),s.jsxs(h,{children:[s.jsx(i,{as:"p",weight:"bold",className:"text-gray-800",children:l.title}),s.jsx(i,{as:"p",size:"2",color:"gray",children:new Date(l.created_at).toLocaleDateString("pt-BR",{dateStyle:"long"})})]})]})})},l.id))}):s.jsx(i,{color:"gray",children:"Nenhuma not√≠cia publicada por esta institui√ß√£o."}),e.postagens&&e.postagens.length>0&&s.jsx(I,{variant:"soft",asChild:!0,mt:"3",className:"my-4 text-black",style:{width:"fit-content"},children:s.jsxs(u,{to:`/blog?instituicao=${encodeURIComponent(e.nome)}`,children:["Ver not√≠cias (",e.postagens.length,")",s.jsx(_,{className:"ml-2"})]})})]})})]})]})]}):s.jsx("div",{className:"text-center p-8",children:"Institui√ß√£o n√£o encontrada."})};export{H as default};
